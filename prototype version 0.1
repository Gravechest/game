import random
z1 = 0
z2 = 0
z3 = 0
y = 0
x = 0
turn = 0
enl = 0
aps = 0
ntclsd = 0
gmvr = 0
mapgen = []
opendoors = []
enemie = []
enemies = []
enemiel = []
walls = []
srndwalls = []
doors = []
print("welkom to the alpha of this roguelike")
print("the controls are as following\nnumpad for moving arount the map, ""o"" for opening and closing doors\nI hope you find this intresting\n")
while True:
    while z1 < 120:
        if z3 == 5:
            random.seed((y+4)+((x+5)*100))
            atrib = random.randint(0,1000)
            if ((y+4)+((x+5)*100)) in opendoors:
                opendoors.remove((y+4)+((x+5)*100))
            elif ((y+4)+((x+5)*100)) in doors:
                opendoors.append((y+4)+((x+5)*100))
            random.seed((y+5)+((x+4)*100))
            atrib = random.randint(0,1000)
            if ((y+5)+((x+4)*100)) in opendoors:
                opendoors.remove((y+5)+((x+4)*100))
            elif ((y+5)+((x+4)*100)) in doors:
                opendoors.append((y+5)+((x+4)*100))
            random.seed((y+6)+((x+5)*100))
            atrib = random.randint(0,1000)
            if ((y+6)+((x+5)*100)) in opendoors:
                opendoors.remove((y+6)+((x+5)*100))
            elif ((y+6)+((x+5)*100)) in doors:
                opendoors.append((y+6)+((x+5)*100))
            random.seed((y+5)+((x+6)*100))
            atrib = random.randint(0,1000)
            if ((y+5)+((x+6)*100)) in opendoors:
                opendoors.remove((y+5)+((x+6)*100))
            elif ((y+5)+((x+6)*100)) in doors:
                opendoors.append((y+5)+((x+6)*100))
            print(opendoors)
            z3 = 0
        if z2 == 0 and y == 0 + aps:
            random.seed((y+5)+((x+5)*100))
            rnd = random.choices((".","#","#"))
            atrib = random.randint(0,1000)
            if rnd == ["#"] and ((y+5)+((x+5)*100)) in walls or ((y+5)+((x+5)*100)) in doors and ((y+5)+((x+5)*100)) not in opendoors:
                z3 = 6
        if z3 == 0:
            random.seed(y+(x*100))
            rnd = random.choices((".","#","#"))
            atrib = random.randint(0,1000)
            if rnd == ["#"]:
                random.seed((y+1)+(x*100))
                rnd = random.choices((".","#","#"))
                if rnd == ["#"]:
                    srndwalls.append(4)
                random.seed((y-1)+(x*100))
                rnd = random.choices((".","#","#"))
                if rnd == ["#"]:
                    srndwalls.append(8)
                random.seed((y+1)+((x+1)*100))
                rnd = random.choices((".","#","#"))
                if rnd == ["#"]:
                    srndwalls.append(5)
                random.seed((y+1)+((x-1)*100))
                rnd = random.choices((".","#","#"))
                if rnd == ["#"]:
                    srndwalls.append(3)
                random.seed(y+((x-1)*100))
                rnd = random.choices((".","#","#"))
                if rnd == ["#"]:
                    srndwalls.append(2)
                random.seed(y+((x+1)*100))
                rnd = random.choices((".","#","#"))
                if rnd == ["#"]:
                    srndwalls.append(6)
                random.seed((y-1)+((x+1)*100))
                rnd = random.choices((".","#","#"))
                if rnd == ["#"]:
                    srndwalls.append(7)
                random.seed((y-1)+((x-1)*100))
                rnd = random.choices((".","#","#"))
                if rnd == ["#"]:
                    srndwalls.append(1)
                if len(srndwalls) > 12 and (2 or 4 or 6 or 8) in srndwalls:
                    rnd = "#"
                    walls.append(y+(x*100))
                    z3 = 2
                elif len(srndwalls) > 2 and y == 5 and x == 5 and (4 or 2 or 6 or 8) in srndwalls :
                    z3 = 2
                else:
                    z3 = 2
                    rnd = "."
                    if z2 == 5 and y == 5 + aps:
                        rnd = "@"
            else:
                rnd = "."
                z3 = 1
                srndwalls.clear()
        if z3 == 1:
            random.seed(y+(x*100))
            rnd = random.choices((".","#","#"))
            atrib = random.randint(0,1000)
            if atrib < 80 and y+(x*100) not in opendoors:
                rnd = "C"
                doors.append(y+(x*100))
            elif (y+((x+1)*100)) in enemie and z2 > 5:
                if turn == 1:
                    if (y+(x*100)) not in walls:
                        enemie.remove(y+((x+1)*100))
                        enemies.append(y+((x+1)*100))
                        enemie.append(y+(x*100))
                        rnd = "E"
                    else:
                        rnd = "E"
                if turn == 0:
                    rnd = "."
            elif (y+(x*100)) in enemie and z2 < 5:
                if turn == 1:
                    if (y+((x+1)*100)) not in walls:
                        enemie.remove(y+(x*100))
                        enemies.append(y+(x*100))
                        enemiel.append(y+((x+1)*100))
                        rnd = "."
                    else:
                        rnd = "E"
                if turn == 0:
                    rnd = "E"
            elif ((y+1)+(x*100) or (y-1)+(x*100) or (y+((x+1)*100)) or (y+((x-1)*100))) in enemie and z2 == 5 and y == 5 + aps:
                gmvr = 1
            elif (y+(x*100)) in enemie and z2 == 5 and y < 5 + aps:
                if turn == 1:
                    if ((y+1)+(x*100)) not in walls:
                        enemie.remove(y+(x*100))
                        enemies.append(y+(x*100))
                        enemie.append((y+1)+(x*100))
                        rnd = "E"
                    else:
                        rnd = "."
                if turn == 0:
                    rnd = "."
            elif ((y+1)+(x*100)) in enemie and z2 == 5 and y > 4 + aps:
                if turn == 1:
                    enemie.remove((y+1)+(x*100))
                    enemies.append((y+1)+(x*100))
                    enemiel.append(y+(x*100))
                    rnd = "E"
                if turn == 0:
                    rnd = "."
            elif (y+(x*100)) in enemiel:
                if turn == 1:
                    enemie.append(y+(x*100))
                    enemiel.remove(y+(x*100))
                rnd = "E"
            elif atrib > 80 and atrib < 81 and (y+(x*100)) not in enemies:
                rnd = "E"
                enemie.append(y+(x*100))
            elif y+(x*100) in opendoors:
                rnd = "c"
            elif y+(x*100) in enemie:
                rnd = "E"
            else:
                rnd = "."
            if z2 == 5 and y == 5 + aps:
                rnd = "@"
            enl = 0
            z3 = 2
        if z3 == 2:
            mapgen.append(rnd)
            y = y + 1
            if z1 == 10:
                x = x + 1
                y = y - 11
            z1 = z1 + 1
            z3 = 0
        if z1 == 11 and z2 < 11:
            print(*mapgen)
            z1 = 0
            mapgen.clear()
            z2 = z2 + 1
        if z2 == 11 and z3 == 0 and gmvr == 0 or z3 == 6:
            if z3 != 6:
                x = x - 11
            else:
                if inp == "6":
                    y = y - 1
                elif inp == "2":
                    x = x - 1
                elif inp == "4":
                    y = y + 1
                elif inp == "8":
                    x = x + 1
                elif inp == "1":
                    x = x - 1
                    y = y + 1
                elif inp == "3":
                    y = y - 1
                    x = x - 1
                elif inp == "9":
                    x = x + 1
                    y = y - 1
                else:
                    x = x + 1
                    y = y + 1
                print("not a valid move")
                z3 = 0
                enl = 1
            if enl == 0:
                inp = input("action")
                if inp == "6":
                    y = y + 1
                    z2 = 0
                elif inp == "2":
                    x = x + 1
                    z2 = 0
                elif inp == "4":
                    y = y - 1
                    z2 = 0
                elif inp == "8":
                    x = x - 1
                    z2 = 0
                elif inp == "7":
                    x = x - 1
                    y = y - 1
                    z2 = 0
                elif inp == "9":
                    x = x - 1
                    y = y + 1
                    z2 = 0
                elif inp == "3":
                    x = x + 1
                    y = y + 1
                    z2 = 0
                elif inp == "1":
                    y = y - 1
                    x = x + 1
                    z2 = 0
                if inp == "o":
                    z3 = 5
                    z2 = 0
            if inp != "o":
                z3 = 0
            enl = 0
            aps = y
            ntclsd = 0
            if turn == 0:
                turn = 2
            turn = turn - 1
        if z2 == 11 and z3 == 0 and gmvr == 1:
            print("\n\n\n     GAME OVER\n\n\n")
            gmvr = 2



            


